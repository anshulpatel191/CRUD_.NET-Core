import React, {useState} from "react";
import { Container, Row, Col, Card, Form, Button} from 'react-bootstrap';
import ForexCalculator from "../Components/ForexCalculator";
import CustomerTable from "../Components/CustomerTable";
import { useNavigate } from "react-router-dom";

const AdminDashboard = () => {
    const [customerId, setCustomerId] = useState('');
    const [accountId, setAccountId] = useState('');
    const [email, setEmail] = useState('');
    
    const navigate = useNavigate();
    const handleCustomerIdChange = (event) => {
      setCustomerId(event.target.value);
    };
  
    const handleEmailChange = (event) => {
      setEmail(event.target.value);
    };

    const handleAccountIdChange = (event) => {
        setAccountId(event.target.value);
    }
  
    const handleAddCustomer = () => {
      navigate('/register');
    };

    const handleViewCustomer = () => {

    };

    const handleViewAccount = () => {
      navigate('/account-dashboard');
    };

    const handleViewStatement = () => {
      navigate('/statement');      
    };

    const handleAddAccount =  () => {
      navigate('/account-registration');
    };    

    const handleCustomerDetails =  () => {
      navigate('/viewcustomer');
    };

    return (
        <Container fluid>
        <h1>Admin Dashboard</h1>
        <Col md={12}>
            <Card>
              <Card.Body>
                <ForexCalculator/>
              </Card.Body>
            </Card>
          </Col>
        <Row style={{marginTop: "20px", marginBottom: "20px"}}>
        <Col md={6}>
            <Card>
              <Card.Body className="text-center" >
                <h2>Add a New Customer</h2>
                
        <Button variant="primary" onClick={handleAddCustomer}>
          Add Customer
        </Button>
              </Card.Body>
            </Card>
          </Col>
    
          <Col md={6}>
            <Card>
              <Card.Body className="text-center" >
                <h2>Add a New Account</h2>
                
        <Button variant="primary" onClick={handleAddAccount}>
          Add Account
        </Button>
              </Card.Body>
            </Card>
          </Col>
        </Row>
        <Row style={{marginTop: "20px", marginBottom: "20px"}}>
        <Col md={12}>
            <Card>
              <Card.Body className="text-center" >
                <h2>View Customer Details</h2>
                
        <Button variant="primary" onClick={handleCustomerDetails}>
        View Customer
        </Button>
              </Card.Body>
            </Card>
          </Col>            
        </Row>              
      </Container>
    );
}


export default AdminDashboard;


import React from "react";
import { AppContext } from "../Context/App.context";
import { useContext } from "react";
import axios from "axios";
import { useNavigate } from "react-router-dom";
import AccountDropdown from "./AccountDropDown";
import { Container, Row, Col, Form, Button, Card } from "react-bootstrap";

const CustomerPage = () => {
  const [balance, setBalance] = React.useState();
  const [selectedAccount, setSelectedAccount] = React.useState('');
  const { user } = useContext(AppContext);

  const handleBalance = () => {
    //setBalance(100);     
    const headers = { "Authorization": `Bearer ${user.token}` }
    console.log(user)
    axios.get(`AccountBalance?accnumber=${selectedAccount}`, { headers })
      .then(response => setBalance(response.data.balance));
  }



  const navigate = useNavigate();

  const handleTransfer = () => {
    navigate("/transfer", { replace: true });
  };

  const handleStatement = () => {
    navigate("/statement", { replace: true });
  };
 
  const handlePinChange = () => {
    navigate("/PinChange", { replace: true });
  };
  
  const handlePassword = () => {
    navigate("/passwordchange", { replace: true });
  };

  return (
    <Container>
      <Row className="mt-4">
        <Col md={12}>
          <Card>
            <Card.Header>
              <h1>Account Details Page</h1>
            </Card.Header>
            <Card.Body>
              {balance && (
                <div>
                  <p>Balance:</p>
                  <p>{balance}</p>
                </div>
              )}
              <Form.Group>
                <Form.Label>Account Id:</Form.Label>
                <Col xs={12} md={6} mb={3}>

                  <Form.Label>Sender Account</Form.Label>
                  <AccountDropdown selectedAccount={selectedAccount} setSelectedAccount={setSelectedAccount} />
                </Col>
              </Form.Group>
              <Button variant="primary" onClick={handleBalance}>
                Check Balance
              </Button>
              <hr />
              <div>
                <p>Click below for Transaction page:</p>
                <Button variant="success" onClick={handleTransfer}>
                Transaction Page
                </Button>
              </div>
              <div>
                <p>Click below for Statement page:</p>
                <Button variant="info" onClick={handleStatement}>
                  Statement Page
                </Button>
              </div>
              <div>
                <p>Click below for PIN change:</p>
                <Button variant="success" onClick={handlePinChange}>
                  PIN Change
                </Button>
              </div>
              <div>
                <p>Click below for Password change:</p>
                <Button variant="info" onClick={handlePassword}>
                Password change
                </Button>
              </div>
            </Card.Body>
          </Card>
        </Col>
      </Row>
    </Container>
  );
};

export default CustomerPage;
